{% extends 'marketing/base.html' %}
{% load static %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<!-- Dashboard Header with Greeting -->
<div class="px-4 py-2 mb-1">
    <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
        <!-- Left Content - Greeting and Date -->
        <div class="flex flex-col">
            <!-- Greeting Text -->
            <h1 id="greeting-text" class="text-2xl font-bold text-gray-900" 
                data-animate="fade-in-bottom" data-delay="0.2s"
                style="font-family: 'Outfit', sans-serif;">
                Good Evening, {{ user.username|default:"User" }}!
            </h1>
            
            <!-- Date Text -->
            <p id="date-text" class="text-sm text-gray-600" 
               data-animate="fade-in-bottom" data-delay="0.4s"
               style="font-family: 'Outfit', sans-serif;">
                Monday, September 8 • 2025
            </p>
            
            <!-- Motivational Text -->
            <p id="motivational-text" class="text-xs text-blue-600 italic" 
               data-animate="fade-in-bottom" data-delay="0.6s"
               style="font-family: 'Outfit', sans-serif;">
                Stay focused and productive!
            </p>
        </div>
        
        <!-- Right Content - Search, Notification, User Profile -->
        <div class="flex items-center gap-3">
            <!-- Search Bar -->
            <div class="relative" data-animate="fade-in-right" data-delay="0.8s">
                <input type="text" id="search-input" placeholder="Search..." 
                       class="w-64 rounded-lg border border-gray-200 bg-white px-4 py-2 pl-10 text-sm focus:border-blue-500 focus:outline-none"
                       style="font-family: 'Outfit', sans-serif;">
                <i data-lucide="search" class="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400" 
                   style="stroke-width: 2px; stroke-linecap: round; stroke-linejoin: round;"></i>
            </div>
            
            <!-- Notification Icon -->
            <button class="relative rounded-lg p-2 text-gray-600 hover:bg-gray-100 transition-colors" 
                    data-animate="fade-in-right" data-delay="1.0s">
                <i data-lucide="bell" class="h-5 w-5"></i>
            </button>
            
            <!-- User Profile Component -->
            <button id="user-profile" class="flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 hover:bg-gray-50 transition-colors" 
                    data-animate="fade-in-right" data-delay="1.2s">
                <!-- Avatar -->
                <div class="flex h-8 w-8 items-center justify-center rounded-full bg-blue-100">
                    <span class="text-sm font-semibold text-blue-600">{{ user.username|first|upper|default:"U" }}</span>
                </div>
                
                <!-- Username -->
                <span class="text-sm font-medium text-gray-700">{{ user.username|default:"User" }}</span>
                
                <!-- Dropdown Arrow -->
                <i data-lucide="chevron-down" class="h-4 w-4 text-gray-400 transition-transform"></i>
            </button>
        </div>
    </div>
</div>

<div class="px-4 space-y-4">

    <!-- Key Metrics Cards -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-3">
        <!-- Total Customers -->
        <div class="bg-white rounded-lg border border-gray-200 p-2 sm:p-3 shadow-sm hover:shadow-md transition-shadow">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-xs font-medium text-gray-600">Total Customers</p>
                    <p class="text-lg sm:text-xl font-bold text-gray-900">{{ total_customers|default:"1,247" }}</p>
                    <p class="text-xs text-green-600 flex items-center gap-1 mt-1">
                        <i data-lucide="trending-up" class="w-3 h-3"></i>
                        +15.2%
                    </p>
                </div>
                <div class="h-8 w-8 sm:h-10 sm:w-10 bg-blue-100 rounded-lg flex items-center justify-center">
                    <i data-lucide="users" class="w-4 h-4 sm:w-5 sm:h-5 text-blue-600"></i>
                </div>
            </div>
        </div>

        <!-- Active Leads -->
        <div class="bg-white rounded-lg border border-gray-200 p-2 sm:p-3 shadow-sm hover:shadow-md transition-shadow">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-xs font-medium text-gray-600">Active Leads</p>
                    <p class="text-lg sm:text-xl font-bold text-gray-900">{{ active_leads|default:"89" }}</p>
                    <p class="text-xs text-green-600 flex items-center gap-1 mt-1">
                        <i data-lucide="trending-up" class="w-3 h-3"></i>
                        +8.7%
                    </p>
                </div>
                <div class="h-8 w-8 sm:h-10 sm:w-10 bg-green-100 rounded-lg flex items-center justify-center">
                    <i data-lucide="target" class="w-4 h-4 sm:w-5 sm:h-5 text-green-600"></i>
                </div>
            </div>
        </div>

        <!-- Pending Quotations -->
        <div class="bg-white rounded-lg border border-gray-200 p-2 sm:p-3 shadow-sm hover:shadow-md transition-shadow">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-xs font-medium text-gray-600">Pending Quotations</p>
                    <p class="text-lg sm:text-xl font-bold text-gray-900">{{ pending_quotations|default:"23" }}</p>
                    <p class="text-xs text-orange-600 flex items-center gap-1 mt-1">
                        <i data-lucide="clock" class="w-3 h-3"></i>
                        Need Follow-up
                    </p>
                </div>
                <div class="h-8 w-8 sm:h-10 sm:w-10 bg-orange-100 rounded-lg flex items-center justify-center">
                    <i data-lucide="file-text" class="w-4 h-4 sm:w-5 sm:h-5 text-orange-600"></i>
                </div>
            </div>
        </div>

        <!-- Production Orders -->
        <div class="bg-white rounded-lg border border-gray-200 p-2 sm:p-3 shadow-sm hover:shadow-md transition-shadow">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-xs font-medium text-gray-600">In Production</p>
                    <p class="text-lg sm:text-xl font-bold text-gray-900">{{ production_orders|default:"12" }}</p>
                    <p class="text-xs text-blue-600 flex items-center gap-1 mt-1">
                        <i data-lucide="factory" class="w-3 h-3"></i>
                        Active
                    </p>
                </div>
                <div class="h-8 w-8 sm:h-10 sm:w-10 bg-purple-100 rounded-lg flex items-center justify-center">
                    <i data-lucide="settings" class="w-4 h-4 sm:w-5 sm:h-5 text-purple-600"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Process Flow Overview -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
        <!-- Sales Pipeline -->
        <div class="bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-base font-semibold text-gray-900">Sales Pipeline</h3>
                <button class="text-xs text-blue-600 hover:text-blue-700">View Details</button>
            </div>
            <div class="space-y-3">
                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                    <div class="flex items-center gap-2">
                        <div class="h-6 w-6 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="users" class="w-3 h-3 text-blue-600"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">New Leads</p>
                            <p class="text-xs text-gray-600">This month</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-medium text-gray-900">45</p>
                        <p class="text-xs text-green-600">+12%</p>
                    </div>
                </div>

                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                    <div class="flex items-center gap-2">
                        <div class="h-6 w-6 bg-green-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="file-text" class="w-3 h-3 text-green-600"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">Quotations Sent</p>
                            <p class="text-xs text-gray-600">This month</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-medium text-gray-900">23</p>
                        <p class="text-xs text-green-600">+8%</p>
                    </div>
                </div>

                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                    <div class="flex items-center gap-2">
                        <div class="h-6 w-6 bg-purple-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="shopping-cart" class="w-3 h-3 text-purple-600"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">Purchase Orders</p>
                            <p class="text-xs text-gray-600">This month</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-medium text-gray-900">8</p>
                        <p class="text-xs text-green-600">+25%</p>
                    </div>
                </div>

                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                    <div class="flex items-center gap-2">
                        <div class="h-6 w-6 bg-orange-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="truck" class="w-3 h-3 text-orange-600"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">Deliveries</p>
                            <p class="text-xs text-gray-600">This month</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-medium text-gray-900">15</p>
                        <p class="text-xs text-green-600">+18%</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Regional Performance -->
        <div class="bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-base font-semibold text-gray-900">Regional Performance</h3>
                <button class="text-xs text-blue-600 hover:text-blue-700">View All</button>
            </div>
            <div class="space-y-3">
                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                    <div class="flex items-center gap-2">
                        <div class="h-6 w-6 bg-red-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="map-pin" class="w-3 h-3 text-red-600"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">North Region</p>
                            <p class="text-xs text-gray-600">Target: ₹50L</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-medium text-gray-900">₹42L</p>
                        <p class="text-xs text-green-600">84%</p>
                    </div>
                </div>

                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                    <div class="flex items-center gap-2">
                        <div class="h-6 w-6 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="map-pin" class="w-3 h-3 text-blue-600"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">South Region</p>
                            <p class="text-xs text-gray-600">Target: ₹45L</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-medium text-gray-900">₹38L</p>
                        <p class="text-xs text-green-600">84%</p>
                    </div>
                </div>

                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                    <div class="flex items-center gap-2">
                        <div class="h-6 w-6 bg-green-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="map-pin" class="w-3 h-3 text-green-600"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">East Region</p>
                            <p class="text-xs text-gray-600">Target: ₹40L</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-medium text-gray-900">₹35L</p>
                        <p class="text-xs text-green-600">88%</p>
                    </div>
                </div>

                <div class="flex items-center justify-between p-2 bg-gray-50 rounded-lg">
                    <div class="flex items-center gap-2">
                        <div class="h-6 w-6 bg-purple-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="map-pin" class="w-3 h-3 text-purple-600"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">West Region</p>
                            <p class="text-xs text-gray-600">Target: ₹35L</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-medium text-gray-900">₹32L</p>
                        <p class="text-xs text-green-600">91%</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Activities & Quick Actions -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
        <!-- Recent Activities -->
        <div class="lg:col-span-2 bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-base font-semibold text-gray-900">Recent Activities</h3>
                <button class="text-xs text-blue-600 hover:text-blue-700">View All</button>
            </div>
            <div class="space-y-3">
                <div class="flex items-center justify-between p-3 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors">
                    <div class="flex items-center gap-2">
                        <div class="h-8 w-8 bg-green-100 rounded-full flex items-center justify-center">
                            <i data-lucide="check-circle" class="w-4 h-4 text-green-600"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">PO Received from ABC Corp</p>
                            <p class="text-xs text-gray-600">Purchase Order #PO-2024-001 for ₹2.5L</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                            Completed
                        </span>
                        <p class="text-xs text-gray-500 mt-1">2 hours ago</p>
                    </div>
                </div>

                <div class="flex items-center justify-between p-3 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors">
                    <div class="flex items-center gap-2">
                        <div class="h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center">
                            <i data-lucide="map-pin" class="w-4 h-4 text-blue-600"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">Visit Completed - XYZ Ltd</p>
                            <p class="text-xs text-gray-600">Technical discussion completed, quotation sent</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                            In Progress
                        </span>
                        <p class="text-xs text-gray-500 mt-1">4 hours ago</p>
                    </div>
                </div>

                <div class="flex items-center justify-between p-3 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors">
                    <div class="flex items-center gap-2">
                        <div class="h-8 w-8 bg-orange-100 rounded-full flex items-center justify-center">
                            <i data-lucide="factory" class="w-4 h-4 text-orange-600"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">Production Started - Batch #B001</p>
                            <p class="text-xs text-gray-600">Manufacturing started for DEF Industries order</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800">
                            Started
                        </span>
                        <p class="text-xs text-gray-500 mt-1">1 day ago</p>
                    </div>
                </div>

                <div class="flex items-center justify-between p-3 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors">
                    <div class="flex items-center gap-2">
                        <div class="h-8 w-8 bg-purple-100 rounded-full flex items-center justify-center">
                            <i data-lucide="calendar" class="w-4 h-4 text-purple-600"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium text-gray-900">Exhibition Planned - TechExpo 2024</p>
                            <p class="text-xs text-gray-600">Stall booking confirmed for March 15-17</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                            Planned
                        </span>
                        <p class="text-xs text-gray-500 mt-1">2 days ago</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow">
            <h3 class="text-base font-semibold text-gray-900 mb-4">Quick Actions</h3>
            <div class="space-y-2">
                <a href="{% url 'marketing:customer_create' %}" class="flex items-center gap-2 p-2 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors">
                    <div class="h-6 w-6 bg-blue-100 rounded-lg flex items-center justify-center">
                        <i data-lucide="user-plus" class="w-3 h-3 text-blue-600"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-900">Add Customer</span>
                </a>

                <a href="{% url 'marketing:visit_create' %}" class="flex items-center gap-2 p-2 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors">
                    <div class="h-6 w-6 bg-green-100 rounded-lg flex items-center justify-center">
                        <i data-lucide="calendar-plus" class="w-3 h-3 text-green-600"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-900">Schedule Visit</span>
                </a>

                <a href="{% url 'marketing:quotation_create' %}" class="flex items-center gap-2 p-2 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors">
                    <div class="h-6 w-6 bg-purple-100 rounded-lg flex items-center justify-center">
                        <i data-lucide="file-text" class="w-3 h-3 text-purple-600"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-900">Create Quotation</span>
                </a>

                <a href="{% url 'marketing:expense_create' %}" class="flex items-center gap-2 p-2 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors">
                    <div class="h-6 w-6 bg-orange-100 rounded-lg flex items-center justify-center">
                        <i data-lucide="dollar-sign" class="w-3 h-3 text-orange-600"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-900">Add Expense</span>
                </a>

                <a href="{% url 'marketing:visit_tracking' %}" class="flex items-center gap-2 p-2 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors">
                    <div class="h-6 w-6 bg-red-100 rounded-lg flex items-center justify-center">
                        <i data-lucide="navigation" class="w-3 h-3 text-red-600"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-900">Live Tracking</span>
                </a>

                <a href="{% url 'marketing:daily_reports' %}" class="flex items-center gap-2 p-2 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors">
                    <div class="h-6 w-6 bg-indigo-100 rounded-lg flex items-center justify-center">
                        <i data-lucide="bar-chart-3" class="w-3 h-3 text-indigo-600"></i>
                    </div>
                    <span class="text-sm font-medium text-gray-900">Daily Reports</span>
                </a>
            </div>
        </div>
    </div>

    <!-- Alerts & Notifications -->
    <div class="bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow">
        <div class="flex items-center justify-between mb-4">
            <h3 class="text-base font-semibold text-gray-900">Alerts & Notifications</h3>
            <button class="text-xs text-blue-600 hover:text-blue-700">View All</button>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3">
            <div class="p-3 bg-red-50 border border-red-200 rounded-lg">
                <div class="flex items-center gap-2 mb-1">
                    <i data-lucide="alert-triangle" class="w-3 h-3 text-red-600"></i>
                    <span class="text-xs font-medium text-red-800">Urgent</span>
                </div>
                <p class="text-xs text-red-700">3 quotations expiring today</p>
            </div>
            
            <div class="p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                <div class="flex items-center gap-2 mb-1">
                    <i data-lucide="clock" class="w-3 h-3 text-yellow-600"></i>
                    <span class="text-xs font-medium text-yellow-800">Pending</span>
                </div>
                <p class="text-xs text-yellow-700">5 follow-ups due today</p>
            </div>
            
            <div class="p-3 bg-blue-50 border border-blue-200 rounded-lg">
                <div class="flex items-center gap-2 mb-1">
                    <i data-lucide="factory" class="w-3 h-3 text-blue-600"></i>
                    <span class="text-xs font-medium text-blue-800">Production</span>
                </div>
                <p class="text-xs text-blue-700">2 QC inspections pending</p>
            </div>
            
            <div class="p-3 bg-green-50 border border-green-200 rounded-lg">
                <div class="flex items-center gap-2 mb-1">
                    <i data-lucide="truck" class="w-3 h-3 text-green-600"></i>
                    <span class="text-xs font-medium text-green-800">Dispatch</span>
                </div>
                <p class="text-xs text-green-700">3 deliveries scheduled today</p>
            </div>
        </div>
    </div>
</div>

<!-- User Dropdown Menu -->
<div id="user-dropdown" class="hidden absolute bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-50" style="min-width: 160px;">
    <a href="#" class="flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-all duration-200">
        <i data-lucide="user" class="w-4 h-4"></i>
        Profile
    </a>
    <a href="#" class="flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-all duration-200">
        <i data-lucide="settings" class="w-4 h-4"></i>
        Settings
    </a>
    <div class="border-t border-gray-100 my-1"></div>
    <a href="#" class="flex items-center gap-2 px-3 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-all duration-200">
        <i data-lucide="log-out" class="w-4 h-4"></i>
        Logout
    </a>
</div>

<script>
// Dynamic Motivational Quotes
const motivationalQuotes = [
    "Stay focused and productive!",
    "Success is the sum of small efforts repeated day in and day out!",
    "Every expert was once a beginner. Every pro was once an amateur!",
    "The way to get started is to quit talking and begin doing!",
    "Don't be afraid to give up the good to go for the great!",
    "Innovation distinguishes between a leader and a follower!",
    "The future belongs to those who believe in the beauty of their dreams!",
    "It is during our darkest moments that we must focus to see the light!",
    "The only way to do great work is to love what you do!",
    "Your limitation—it's only your imagination!",
    "Great things never come from comfort zones!",
    "Dream it. Wish it. Do it!",
    "Success doesn't just find you. You have to go out and get it!",
    "The harder you work for something, the greater you'll feel when you achieve it!",
    "Dream bigger. Do bigger!",
    "Don't stop when you're tired. Stop when you're done!",
    "Wake up with determination. Go to bed with satisfaction!",
    "Do something today that your future self will thank you for!",
    "Little things make big days!",
    "It's going to be hard, but hard does not mean impossible!",
    "Don't wait for opportunity. Create it!",
    "Sometimes we're tested not to show our weaknesses, but to discover our strengths!",
    "The key to success is to focus on goals, not obstacles!",
    "Dream it. Believe it. Build it!",
    "What lies behind us and what lies before us are tiny matters compared to what lies within us!",
    "The only impossible journey is the one you never begin!",
    "In the middle of difficulty lies opportunity!",
    "The future depends on what you do today!",
    "Believe you can and you're halfway there!",
    "The way to get started is to quit talking and begin doing!"
];

// Function to get a random quote
function getRandomQuote() {
    const randomIndex = Math.floor(Math.random() * motivationalQuotes.length);
    return motivationalQuotes[randomIndex];
}

// Function to update the motivational text
function updateMotivationalText() {
    const motivationalElement = document.getElementById('motivational-text');
    if (motivationalElement) {
        // Add fade out effect
        motivationalElement.style.opacity = '0';
        motivationalElement.style.transition = 'opacity 0.3s ease-in-out';
        
        setTimeout(() => {
            motivationalElement.textContent = getRandomQuote();
            // Add fade in effect
            motivationalElement.style.opacity = '1';
        }, 300);
    }
}

// Initialize with a random quote when page loads
document.addEventListener('DOMContentLoaded', function() {
    updateMotivationalText();
    
    // Change quote every 30 seconds
    setInterval(updateMotivationalText, 30000);
    
    // Optional: Change quote on click
    const motivationalElement = document.getElementById('motivational-text');
    if (motivationalElement) {
        motivationalElement.style.cursor = 'pointer';
        motivationalElement.title = 'Click to get a new motivational quote!';
        motivationalElement.addEventListener('click', updateMotivationalText);
    }
});
</script>
{% endblock %}
