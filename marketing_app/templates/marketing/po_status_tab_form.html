<!-- PO Status Form for Tab -->
<div class="bg-white rounded-lg border border-gray-200 shadow-sm">
    <form method="post" action="{% url 'marketing:po_status_create' %}" class="p-6 space-y-8">
        {% csrf_token %}
        
        <!-- Core Information Fields -->
        <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2">
                <i data-lucide="info" class="w-5 h-5 text-blue-600"></i>
                Core Information Fields
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="sr_no" class="block text-sm font-medium text-gray-700 mb-2">
                        Sr. No.
                    </label>
                    <input type="text" 
                           id="sr_no" 
                           class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg bg-gray-50"
                           placeholder="Auto-generated"
                           readonly>
                </div>
                <div>
                    <label for="month" class="block text-sm font-medium text-gray-700 mb-2">
                        Month <span class="text-red-500">*</span>
                    </label>
                    <input type="text" 
                           id="month" 
                           name="month" 
                           class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                           placeholder="Enter month"
                           required>
                </div>
                <div>
                    <label for="region" class="block text-sm font-medium text-gray-700 mb-2">
                        Region <span class="text-red-500">*</span>
                    </label>
                    <input type="text" 
                           id="region" 
                           name="region" 
                           class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                           placeholder="Enter region"
                           required>
                </div>
                <div>
                    <label for="company" class="block text-sm font-medium text-gray-700 mb-2">
                        Company <span class="text-red-500">*</span>
                    </label>
                    <input type="text" 
                           id="company" 
                           name="company" 
                           class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                           placeholder="Enter company name"
                           required>
                </div>
                <div>
                    <label for="order_is_for" class="block text-sm font-medium text-gray-700 mb-2">
                        Order is for (Stability / TT / ...) <span class="text-red-500">*</span>
                    </label>
                    <select id="order_is_for" 
                            name="order_is_for" 
                            class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                            required>
                        <option value="">Select Order Type</option>
                        {% for key, value in ORDER_TYPE_CHOICES %}
                            <option value="{{ key }}">{{ value }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>

        <!-- Order Generation Details -->
        <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2">
                <i data-lucide="file-text" class="w-5 h-5 text-green-600"></i>
                Order Generation Details
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="po_number" class="block text-sm font-medium text-gray-700 mb-2">
                        PO Number <span class="text-red-500">*</span>
                    </label>
                    <input type="text" 
                           id="po_number" 
                           name="po_number" 
                           class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                           placeholder="Enter PO number"
                           required>
                </div>
                <div>
                    <label for="responsible_marketing_person" class="block text-sm font-medium text-gray-700 mb-2">
                        Responsible Marketing Person <span class="text-red-500">*</span>
                    </label>
                    <input type="text" 
                           id="responsible_marketing_person" 
                           name="responsible_marketing_person" 
                           class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                           placeholder="Enter marketing person name"
                           required>
                </div>
                <div>
                    <label for="coordinator" class="block text-sm font-medium text-gray-700 mb-2">
                        Coordinator <span class="text-red-500">*</span>
                    </label>
                    <input type="text" 
                           id="coordinator" 
                           name="coordinator" 
                           class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                           placeholder="Enter coordinator name"
                           required>
                </div>
                <div>
                    <label for="po_date" class="block text-sm font-medium text-gray-700 mb-2">
                        PO Date <span class="text-red-500">*</span>
                    </label>
                    <input type="date" 
                           id="po_date" 
                           name="po_date" 
                           class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                           required>
                </div>
                <div>
                    <label for="po_value_without_gst" class="block text-sm font-medium text-gray-700 mb-2">
                        PO Value (Without GST) <span class="text-red-500">*</span>
                    </label>
                    <input type="number" 
                           id="po_value_without_gst" 
                           name="po_value_without_gst" 
                           step="0.01"
                           min="0"
                           class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                           placeholder="Enter PO value"
                           required>
                </div>
                <div>
                    <label for="gst" class="block text-sm font-medium text-gray-700 mb-2">
                        GST <span class="text-red-500">*</span>
                    </label>
                    <input type="number" 
                           id="gst" 
                           name="gst" 
                           step="0.01"
                           min="0"
                           class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                           placeholder="Enter GST amount"
                           required>
                </div>
                <div>
                    <label for="po_acceptance_date" class="block text-sm font-medium text-gray-700 mb-2">
                        PO Acceptance Date
                    </label>
                    <input type="date" 
                           id="po_acceptance_date" 
                           name="po_acceptance_date" 
                           class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500">
                </div>
                <div>
                    <label for="wo_date" class="block text-sm font-medium text-gray-700 mb-2">
                        WO Date
                    </label>
                    <input type="date" 
                           id="wo_date" 
                           name="wo_date" 
                           class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500">
                </div>
            </div>
        </div>

        <!-- Payment Tracking Structure -->
        <div>
            <h3 class="text-lg font-semibold text-gray-900 mb-6 flex items-center gap-2">
                <i data-lucide="credit-card" class="w-5 h-5 text-purple-600"></i>
                Payment Tracking Structure (5 Payment Phases)
            </h3>
            
            <!-- PayR-01 -->
            <div class="mb-8">
                <h4 class="text-md font-semibold text-gray-800 mb-4 bg-blue-50 p-3 rounded-lg">PayR-01</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                    <div>
                        <label for="payr01_agreed_percentage" class="block text-sm font-medium text-gray-700 mb-2">
                            Agreed (%)
                        </label>
                        <input type="number" 
                               id="payr01_agreed_percentage" 
                               name="payr01_agreed_percentage" 
                               step="0.01"
                               min="0"
                               max="100"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="%">
                    </div>
                    <div>
                        <label for="payr01_agreed_amount" class="block text-sm font-medium text-gray-700 mb-2">
                            Agreed Amount
                        </label>
                        <input type="number" 
                               id="payr01_agreed_amount" 
                               name="payr01_agreed_amount" 
                               step="0.01"
                               min="0"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="Amount">
                    </div>
                    <div>
                        <label for="payr01_received_percentage" class="block text-sm font-medium text-gray-700 mb-2">
                            Received (%)
                        </label>
                        <input type="number" 
                               id="payr01_received_percentage" 
                               name="payr01_received_percentage" 
                               step="0.01"
                               min="0"
                               max="100"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="%">
                    </div>
                    <div>
                        <label for="payr01_received_amount" class="block text-sm font-medium text-gray-700 mb-2">
                            Received Amount
                        </label>
                        <input type="number" 
                               id="payr01_received_amount" 
                               name="payr01_received_amount" 
                               step="0.01"
                               min="0"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="Amount">
                    </div>
                    <div>
                        <label for="payr01_received_date" class="block text-sm font-medium text-gray-700 mb-2">
                            Received Date
                        </label>
                        <input type="date" 
                               id="payr01_received_date" 
                               name="payr01_received_date" 
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500">
                    </div>
                </div>
            </div>

            <!-- PayR-02 -->
            <div class="mb-8">
                <h4 class="text-md font-semibold text-gray-800 mb-4 bg-green-50 p-3 rounded-lg">PayR-02</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                    <div>
                        <label for="payr02_agreed_percentage" class="block text-sm font-medium text-gray-700 mb-2">
                            Agreed (%)
                        </label>
                        <input type="number" 
                               id="payr02_agreed_percentage" 
                               name="payr02_agreed_percentage" 
                               step="0.01"
                               min="0"
                               max="100"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="%">
                    </div>
                    <div>
                        <label for="payr02_agreed_amount" class="block text-sm font-medium text-gray-700 mb-2">
                            Agreed Amount
                        </label>
                        <input type="number" 
                               id="payr02_agreed_amount" 
                               name="payr02_agreed_amount" 
                               step="0.01"
                               min="0"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="Amount">
                    </div>
                    <div>
                        <label for="payr02_received_percentage" class="block text-sm font-medium text-gray-700 mb-2">
                            Received (%)
                        </label>
                        <input type="number" 
                               id="payr02_received_percentage" 
                               name="payr02_received_percentage" 
                               step="0.01"
                               min="0"
                               max="100"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="%">
                    </div>
                    <div>
                        <label for="payr02_received_amount" class="block text-sm font-medium text-gray-700 mb-2">
                            Received Amount
                        </label>
                        <input type="number" 
                               id="payr02_received_amount" 
                               name="payr02_received_amount" 
                               step="0.01"
                               min="0"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="Amount">
                    </div>
                    <div>
                        <label for="payr02_received_date" class="block text-sm font-medium text-gray-700 mb-2">
                            Received Date
                        </label>
                        <input type="date" 
                               id="payr02_received_date" 
                               name="payr02_received_date" 
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500">
                    </div>
                </div>
            </div>

            <!-- PayR-03 -->
            <div class="mb-8">
                <h4 class="text-md font-semibold text-gray-800 mb-4 bg-yellow-50 p-3 rounded-lg">PayR-03</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                    <div>
                        <label for="payr03_agreed_percentage" class="block text-sm font-medium text-gray-700 mb-2">
                            Agreed (%)
                        </label>
                        <input type="number" 
                               id="payr03_agreed_percentage" 
                               name="payr03_agreed_percentage" 
                               step="0.01"
                               min="0"
                               max="100"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="%">
                    </div>
                    <div>
                        <label for="payr03_agreed_amount" class="block text-sm font-medium text-gray-700 mb-2">
                            Agreed Amount
                        </label>
                        <input type="number" 
                               id="payr03_agreed_amount" 
                               name="payr03_agreed_amount" 
                               step="0.01"
                               min="0"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="Amount">
                    </div>
                    <div>
                        <label for="payr03_received_percentage" class="block text-sm font-medium text-gray-700 mb-2">
                            Received (%)
                        </label>
                        <input type="number" 
                               id="payr03_received_percentage" 
                               name="payr03_received_percentage" 
                               step="0.01"
                               min="0"
                               max="100"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="%">
                    </div>
                    <div>
                        <label for="payr03_received_amount" class="block text-sm font-medium text-gray-700 mb-2">
                            Received Amount
                        </label>
                        <input type="number" 
                               id="payr03_received_amount" 
                               name="payr03_received_amount" 
                               step="0.01"
                               min="0"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="Amount">
                    </div>
                    <div>
                        <label for="payr03_received_date" class="block text-sm font-medium text-gray-700 mb-2">
                            Received Date
                        </label>
                        <input type="date" 
                               id="payr03_received_date" 
                               name="payr03_received_date" 
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500">
                    </div>
                </div>
            </div>

            <!-- PayR-04 -->
            <div class="mb-8">
                <h4 class="text-md font-semibold text-gray-800 mb-4 bg-purple-50 p-3 rounded-lg">PayR-04</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                    <div>
                        <label for="payr04_agreed_percentage" class="block text-sm font-medium text-gray-700 mb-2">
                            Agreed (%)
                        </label>
                        <input type="number" 
                               id="payr04_agreed_percentage" 
                               name="payr04_agreed_percentage" 
                               step="0.01"
                               min="0"
                               max="100"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="%">
                    </div>
                    <div>
                        <label for="payr04_agreed_amount" class="block text-sm font-medium text-gray-700 mb-2">
                            Agreed Amount
                        </label>
                        <input type="number" 
                               id="payr04_agreed_amount" 
                               name="payr04_agreed_amount" 
                               step="0.01"
                               min="0"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="Amount">
                    </div>
                    <div>
                        <label for="payr04_received_percentage" class="block text-sm font-medium text-gray-700 mb-2">
                            Received (%)
                        </label>
                        <input type="number" 
                               id="payr04_received_percentage" 
                               name="payr04_received_percentage" 
                               step="0.01"
                               min="0"
                               max="100"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="%">
                    </div>
                    <div>
                        <label for="payr04_received_amount" class="block text-sm font-medium text-gray-700 mb-2">
                            Received Amount
                        </label>
                        <input type="number" 
                               id="payr04_received_amount" 
                               name="payr04_received_amount" 
                               step="0.01"
                               min="0"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="Amount">
                    </div>
                    <div>
                        <label for="payr04_received_date" class="block text-sm font-medium text-gray-700 mb-2">
                            Received Date
                        </label>
                        <input type="date" 
                               id="payr04_received_date" 
                               name="payr04_received_date" 
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500">
                    </div>
                </div>
            </div>

            <!-- PayR-05 -->
            <div class="mb-8">
                <h4 class="text-md font-semibold text-gray-800 mb-4 bg-orange-50 p-3 rounded-lg">PayR-05</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                    <div>
                        <label for="payr05_agreed_percentage" class="block text-sm font-medium text-gray-700 mb-2">
                            Agreed (%)
                        </label>
                        <input type="number" 
                               id="payr05_agreed_percentage" 
                               name="payr05_agreed_percentage" 
                               step="0.01"
                               min="0"
                               max="100"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="%">
                    </div>
                    <div>
                        <label for="payr05_agreed_amount" class="block text-sm font-medium text-gray-700 mb-2">
                            Agreed Amount
                        </label>
                        <input type="number" 
                               id="payr05_agreed_amount" 
                               name="payr05_agreed_amount" 
                               step="0.01"
                               min="0"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="Amount">
                    </div>
                    <div>
                        <label for="payr05_received_percentage" class="block text-sm font-medium text-gray-700 mb-2">
                            Received (%)
                        </label>
                        <input type="number" 
                               id="payr05_received_percentage" 
                               name="payr05_received_percentage" 
                               step="0.01"
                               min="0"
                               max="100"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="%">
                    </div>
                    <div>
                        <label for="payr05_received_amount" class="block text-sm font-medium text-gray-700 mb-2">
                            Received Amount
                        </label>
                        <input type="number" 
                               id="payr05_received_amount" 
                               name="payr05_received_amount" 
                               step="0.01"
                               min="0"
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500"
                               placeholder="Amount">
                    </div>
                    <div>
                        <label for="payr05_received_date" class="block text-sm font-medium text-gray-700 mb-2">
                            Received Date
                        </label>
                        <input type="date" 
                               id="payr05_received_date" 
                               name="payr05_received_date" 
                               class="w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-brand-500 focus:outline-none focus:ring-1 focus:ring-brand-500">
                    </div>
                </div>
            </div>
        </div>

        <!-- Form Actions -->
        <div class="flex items-center justify-end gap-3 pt-4 border-t border-gray-200">
            <button type="submit" class="px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors">
                <i data-lucide="save" class="w-4 h-4 inline mr-2"></i>
                Save PO Status
            </button>
        </div>
    </form>
</div>
